{"ast":null,"code":"/*\r\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\r\n *\r\n *  Use of this source code is governed by a BSD-style license\r\n *  that can be found in the LICENSE file in the root of the source\r\n *  tree.\r\n */\n/* eslint-env node */\n'use strict';\n\nexport function shimGetDisplayMedia(window, preferredMediaSource) {\n  if (window.navigator.mediaDevices && 'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  if (!window.navigator.mediaDevices) {\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia = function getDisplayMedia(constraints) {\n    if (!(constraints && constraints.video)) {\n      const err = new DOMException('getDisplayMedia without video ' + 'constraints is undefined');\n      err.name = 'NotFoundError';\n      // from https://heycam.github.io/webidl/#idl-DOMException-error-names\n      err.code = 8;\n      return Promise.reject(err);\n    }\n    if (constraints.video === true) {\n      constraints.video = {\n        mediaSource: preferredMediaSource\n      };\n    } else {\n      constraints.video.mediaSource = preferredMediaSource;\n    }\n    return window.navigator.mediaDevices.getUserMedia(constraints);\n  };\n}","map":{"version":3,"names":["shimGetDisplayMedia","window","preferredMediaSource","navigator","mediaDevices","getDisplayMedia","constraints","video","err","DOMException","name","code","Promise","reject","mediaSource","getUserMedia"],"sources":["C:/Users/cnsi-3f-1/Desktop/React/rtsp_to_web/node_modules/webrtc-adapter/src/js/firefox/getdisplaymedia.js"],"sourcesContent":["/*\r\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\r\n *\r\n *  Use of this source code is governed by a BSD-style license\r\n *  that can be found in the LICENSE file in the root of the source\r\n *  tree.\r\n */\r\n/* eslint-env node */\r\n'use strict';\r\n\r\nexport function shimGetDisplayMedia(window, preferredMediaSource) {\r\n  if (window.navigator.mediaDevices &&\r\n    'getDisplayMedia' in window.navigator.mediaDevices) {\r\n    return;\r\n  }\r\n  if (!(window.navigator.mediaDevices)) {\r\n    return;\r\n  }\r\n  window.navigator.mediaDevices.getDisplayMedia =\r\n    function getDisplayMedia(constraints) {\r\n      if (!(constraints && constraints.video)) {\r\n        const err = new DOMException('getDisplayMedia without video ' +\r\n            'constraints is undefined');\r\n        err.name = 'NotFoundError';\r\n        // from https://heycam.github.io/webidl/#idl-DOMException-error-names\r\n        err.code = 8;\r\n        return Promise.reject(err);\r\n      }\r\n      if (constraints.video === true) {\r\n        constraints.video = {mediaSource: preferredMediaSource};\r\n      } else {\r\n        constraints.video.mediaSource = preferredMediaSource;\r\n      }\r\n      return window.navigator.mediaDevices.getUserMedia(constraints);\r\n    };\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;;AAEZ,OAAO,SAASA,mBAAmB,CAACC,MAAM,EAAEC,oBAAoB,EAAE;EAChE,IAAID,MAAM,CAACE,SAAS,CAACC,YAAY,IAC/B,iBAAiB,IAAIH,MAAM,CAACE,SAAS,CAACC,YAAY,EAAE;IACpD;EACF;EACA,IAAI,CAAEH,MAAM,CAACE,SAAS,CAACC,YAAa,EAAE;IACpC;EACF;EACAH,MAAM,CAACE,SAAS,CAACC,YAAY,CAACC,eAAe,GAC3C,SAASA,eAAe,CAACC,WAAW,EAAE;IACpC,IAAI,EAAEA,WAAW,IAAIA,WAAW,CAACC,KAAK,CAAC,EAAE;MACvC,MAAMC,GAAG,GAAG,IAAIC,YAAY,CAAC,gCAAgC,GACzD,0BAA0B,CAAC;MAC/BD,GAAG,CAACE,IAAI,GAAG,eAAe;MAC1B;MACAF,GAAG,CAACG,IAAI,GAAG,CAAC;MACZ,OAAOC,OAAO,CAACC,MAAM,CAACL,GAAG,CAAC;IAC5B;IACA,IAAIF,WAAW,CAACC,KAAK,KAAK,IAAI,EAAE;MAC9BD,WAAW,CAACC,KAAK,GAAG;QAACO,WAAW,EAAEZ;MAAoB,CAAC;IACzD,CAAC,MAAM;MACLI,WAAW,CAACC,KAAK,CAACO,WAAW,GAAGZ,oBAAoB;IACtD;IACA,OAAOD,MAAM,CAACE,SAAS,CAACC,YAAY,CAACW,YAAY,CAACT,WAAW,CAAC;EAChE,CAAC;AACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}